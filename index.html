<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù…ÙØ§Ø¬Ø£Ø© Ù„Ù‡Ø¨Ø© â€” Ù…Ù† Ø¨ÙˆØ¯ÙŠ â¤ï¸</title>
  <link href="https://fonts.googleapis.com/css2?family=Marcellus+SC&family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#0b0b12; --bg2:#2b0f1f; --accent:#ff6b9a; --accent2:#ffd36b; --glass: rgba(255,255,255,0.04);
      --card:#081021; --muted: #bcd9ff88;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Cairo, "Segoe UI", Tahoma, system-ui; background: radial-gradient(1200px 600px at 10% 10%, rgba(255,100,150,0.07), transparent), linear-gradient(160deg,var(--bg1), var(--bg2)); color:#fff}
    a{color:inherit}
    .wrap{max-width:980px;margin:28px auto;padding:22px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06)); border-radius:18px;padding:20px;box-shadow:0 20px 50px rgba(0,0,0,.6)}
    header{display:flex;gap:16px;align-items:center}
    .logo{width:92px;height:92px;border-radius:18px;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:36px;background:linear-gradient(135deg,var(--accent),#a06bff);color:#1a0120;box-shadow:0 12px 30px rgba(0,0,0,.6)}
    h1{margin:0;font-size:28px;letter-spacing:0.6px}
    p.lead{margin:4px 0 0;color:var(--muted)}

    /* cinematic intro */
    .intro{min-height:360px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;border-radius:14px;margin-top:18px}
    .intro::before{content:'';position:absolute;inset:0;background:linear-gradient(180deg, rgba(10,6,20,0.3), rgba(0,0,0,0.55));pointer-events:none}
    .intro .bigs{z-index:2;max-width:760px;padding:30px;text-align:center}
    .intro h2{font-family: 'Marcellus SC', serif;font-size:44px;margin:0 0 8px;color:linear-gradient(90deg,var(--accent),var(--accent2));}
    .intro p{font-size:18px;color:#e6f2ffcc;margin:0 0 18px}
    .btn-start{background:linear-gradient(90deg,var(--accent),var(--accent2));border:none;padding:12px 24px;border-radius:12px;font-weight:800;color:#220a1a;cursor:pointer;box-shadow:0 12px 30px rgba(0,0,0,.5);transform:translateY(0);transition:transform .18s}
    .btn-start:active{transform:translateY(2px)}

    /* quiz */
    .quiz{display:none;margin-top:18px}
    .qcard{display:grid;grid-template-columns:1fr 300px;gap:18px;align-items:center}
    .qleft{padding:18px}
    .question{font-size:20px;margin:6px 0 12px}
    .options{display:flex;flex-direction:column;gap:10px}
    .opt{background:var(--glass);padding:12px;border-radius:10px;cursor:pointer;border:1px solid rgba(255,255,255,0.03);transition:all .18s;display:flex;justify-content:space-between;align-items:center}
    .opt:hover{transform:translateX(-6px);box-shadow:0 12px 30px rgba(0,0,0,.5)}
    .opt.correct{background:linear-gradient(90deg,#247bff22,#2ff3a122);border-color:rgba(34,139,230,0.25)}
    .opt.wrong{background:rgba(255,40,85,0.08);border-color:rgba(255,40,85,0.18)}
    .small{font-size:13px;color:var(--muted)}

    .qright{padding:18px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));border-radius:12px}
    .progress{height:10px;background:rgba(255,255,255,0.03);border-radius:10px;overflow:hidden}
    .progress > span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--accent2));transition:width .4s}
    .qnav{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
    .btn{padding:10px 12px;border-radius:10px;border:none;background:#18314f;color:#fff;font-weight:700;cursor:pointer}

    /* final */
    .final{display:none;text-align:center;padding:40px 18px}
    .final h2{font-family:'Marcellus SC',serif;font-size:40px;margin:0 0 6px}
    .final p{color:#e8f6ffcc;font-size:18px}
    .signature{margin-top:20px;font-size:18px;color:#ffd9ea}
    .cta-love{margin-top:20px;padding:12px 22px;border-radius:12px;background:linear-gradient(90deg,var(--accent),var(--accent2));color:#280511;font-weight:900;border:none;cursor:pointer}

    /* decorations */
    .hearts{position:absolute;inset:0;pointer-events:none;z-index:1}
    .heart{position:absolute;opacity:.12;font-size:120px;transform:translateY(0) rotate(8deg)}

    /* confetti canvas */
    #confetti{position:fixed;inset:0;pointer-events:none;z-index:999}

    @media(max-width:900px){.qcard{grid-template-columns:1fr}.logo{width:72px;height:72px;font-size:28px}.intro h2{font-size:34px}}
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>
  <div class="wrap">
    <div class="card">
      <header>
        <div class="logo">Ø¨</div>
        <div>
          <h1>Ù…ÙØ§Ø¬Ø£Ø© Ù„Ù‡Ø¨Ø© â€” Ù…ÙØ§Ø¬Ø£Ø© Ø·Ø±Ø´ Ù…Ù† Ø¨ÙˆØ¯ÙŠ</h1>
        </div>
      </header>

      <!-- Intro cinematic -->
      <div class="intro" id="intro">
        <div class="hearts">
          <div class="heart" style="left:6%;top:10%;">ğŸ’—</div>
          <div class="heart" style="left:82%;top:6%;font-size:100px">ğŸ’–</div>
          <div class="heart" style="left:52%;top:26%;font-size:90px">ğŸ’•</div>
        </div>
        <div class="bigs">
          <h2>Ù„Ù€ Ù‡Ø¨Ø¨Ø§Ø¨ Ø§Ù„ÙƒÙ„Ø¨ â€” Ù…ÙØ§Ø¬Ø£Ø©  </h2>
          <p>ÙÙŠ ÙŠÙˆÙ… Ù‚Ø§Ø¨Ù„ØªÙƒ Ø¯Ù†ÙŠØªÙŠ Ø§ØªØ²ÙŠÙ†Øª Ø¨ÙŠÙƒÙŠ â€” ÙˆØ£Ù†ØªÙŠ Ø£Ø¬Ù…Ù„ Ù…ÙØ§Ø¬Ø£Ø© Ø­ØµÙ„ØªÙ„ÙŠ ÙŠ Ù†Ù† Ø¹ÙŠÙˆÙ†ÙŠ ÙŠ ÙƒÙˆØªÙŠ Ø§Ù†Øª . Ø§Ø¶ØºØ·ÙŠ Â«Ø§Ø¨Ø¯Ø¦ÙŠÂ» Ø¹Ø´Ø§Ù† Ø§Ù„Ø±Ø­Ù„Ø© ØªØ¨Ø¯Ø£ ğŸ˜‰</p>
          <button class="btn-start" id="startBtn">Ø§Ø¨Ø¯Ø¦ÙŠ Ø§Ù„Ù…ÙØ§Ø¬Ø£Ø© ğŸ’«</button>
        </div>
      </div>

      <!-- Quiz area -->
      <div class="quiz" id="quiz">
        <div class="qcard">
          <div class="qleft">
            <div class="question" id="qText">Ø³Ø¤Ø§Ù„</div>
            <div class="options" id="options"></div>
            <div class="qnav">
              <button class="btn" id="nextBtn" style="display:none">Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>
          </div>

          <div class="qright">
            <div class="small">Ø§Ù„ØªÙ‚Ø¯Ù…</div>
            <div class="progress" style="margin-top:8px"><span id="pbar"></span></div>
            <div style="margin-top:16px">
              <div class="small">Ø£Ø³Ø¦Ù„Ø©: <strong id="qcount">0</strong>/<span id="qtotal">0</span></div>
              <div style="margin-top:10px;font-size:13px;color:var(--muted)">Ø¬Ø§ÙˆØ¨Ù Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨ØµØ±Ø§Ø­Ø© â€” ÙˆØ§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ Ù‡ØªØ·Ù„Ø¹ Ù„Ù…Ø­Ø© Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ© ğŸ˜‰</div>
            </div>
          </div>
        </div>
      </div>

      <!-- final -->
      <div class="final" id="final">
        <h2>ÙŠØ§ Ù‡Ø¨Ø©ØŒ ÙŠØ§ Ø£Ø­Ù„Ù‰ Ù‡Ø¯ÙŠØ©</h2>
        <p id="finalMsg">Ø±Ø³Ø§Ù„Ø© Ø®ØªØ§Ù…ÙŠØ©</p>
        <div class="signature">Ù…Ù† Ø¨ÙˆØ¯ÙŠ â¤ï¸</div>
        <button class="cta-love" id="loveBtn">Ø¨Ø­Ø¨Ùƒ ÙŠØ§ Ù‡Ø¨Ø© â¤ï¸</button>
      </div>
    </div>
  </div>

  <!-- audio (Ù…ÙˆØ³ÙŠÙ‚Ù‰) --><audio id="bgAudio" loop preload="auto">
    <!-- Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ùˆ Ø¹Ù†Ø¯Ùƒ Ù…Ù„Ù mp3 Ù…Ø³ØªØ¶Ø§Ù -->
    <source src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_6a7d2a9ad3.mp3?filename=sad-piano-11229.mp3" type="audio/mpeg">
  </audio>

<script>
  // ======= Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¦Ù„Ø© (Ù…Ø¶Ø¨ÙˆØ·Ø© Ø­Ø³Ø¨ ÙƒÙ„Ø§Ù…Ùƒ) =======
  const questions = [
    {
      q: 'ØªØ§Ø±ÙŠØ® ØªØ¹Ø§Ø±ÙÙ†Ø§ØŸ',
      opts: ['13/6/2024','12/6/2024','Ø§Ù„Ø´ÙˆØ±ØªØª'],
      correct: 1 // index 1 -> 12/6/2024
    },
    {
      q: 'Ø£ÙƒØªØ± Ø­Ø§Ø¬Ø© Ø¨ÙØ±Ø­ Ø¨ÙŠÙ‡Ø§ Ù„Ù…Ø§...',
      opts: ['Ø£Ø´ÙˆÙ Ø¹ÙŠÙˆÙ†Ùƒ','Ù„Ù…Ø§ Ø¨ØªØ±Ù‚ØµÙŠ','Ù„Ù…Ø§ Ø¨Ù†ØªÙƒÙ„Ù…','Ø¬Ù…ÙŠØ¹ Ù…Ø§ Ø³Ø¨Ù‚'],
      correct: 3
    },
    {
      q: 'ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯ÙŠØŸ',
      opts: ['10/5/2009','9/5/2009','11/5/2009' , 'Ù…Ø´ ÙØ§ÙƒØ±Ù‡'],
      correct: 0
    },
    {
      q: 'Ø¨Ø§Ø³ÙˆØ±Ø¯ ØªÙ„ÙŠÙÙˆÙ†ÙŠ (Ø³Ø± Ø´ÙˆÙŠÙ‘Ø© ğŸ˜‰)',
      opts: ['105744','107544','104574'],
      correct: 0
    },
    {
      q: 'Ø£ÙƒØªØ± ÙŠÙˆÙ… ÙØ±Ø­Øª ÙÙŠÙ‡ØŸ',
      opts: ['ÙŠÙˆÙ… Ø´ÙØªÙƒ Ø£ÙˆÙ„ Ù…Ø±Ø©','ÙŠÙˆÙ… ÙƒÙ„Ù…ØªÙŠÙ†ÙŠ Ø£ÙˆÙ„ Ù…Ø±Ø©','ÙŠÙˆÙ… Ù‚Ø§Ù„ØªÙ„ÙŠ Ø¨Ø­Ø¨Ùƒ','ÙƒÙ„ ÙŠÙˆÙ… ÙˆØ§Ù†ØªÙŠ ÙÙŠ Ø­ÙŠØ§ØªÙŠ'],
      correct: 3
    }
  ];

  // ======= Ø¹Ù†Ø§ØµØ± DOM =======
  const startBtn = document.getElementById('startBtn');
  const intro = document.getElementById('intro');
  const quiz = document.getElementById('quiz');
  const qText = document.getElementById('qText');
  const optionsEl = document.getElementById('options');
  const nextBtn = document.getElementById('nextBtn');
  const pbar = document.getElementById('pbar');
  const qcount = document.getElementById('qcount');
  const qtotal = document.getElementById('qtotal');
  const final = document.getElementById('final');
  const finalMsg = document.getElementById('finalMsg');
  const loveBtn = document.getElementById('loveBtn');
  const bgAudio = document.getElementById('bgAudio');

  let idx = 0; let score=0;
  qtotal.textContent = questions.length;

  function showQuestion(i){
    const item = questions[i];
    qText.textContent = item.q;
    optionsEl.innerHTML = '';
    item.opts.forEach((o,j)=>{
      const div = document.createElement('div');
      div.className = 'opt';
      div.innerHTML = `<span>${o}</span><strong class='mark' style='opacity:0'></strong>`;
      div.addEventListener('click', ()=> handleAnswer(div,j,item.correct));
      optionsEl.appendChild(div);
    });
    nextBtn.style.display='none';
    pbar.style.width = ((i)/questions.length*100)+'%';
    qcount.textContent = i+1;
  }

  function handleAnswer(el, chosen, correct){
    // disable all
    Array.from(optionsEl.children).forEach(ch=> ch.style.pointerEvents='none');
    if(chosen === correct){
      el.classList.add('correct');
      el.querySelector('.mark').textContent = 'ØµØ­ âœ“';
      el.querySelector('.mark').style.opacity=1;
      score++;
      playTick(true);
    } else {
      el.classList.add('wrong');
      el.querySelector('.mark').textContent = 'ØºÙ„Ø· âœ—';
      el.querySelector('.mark').style.opacity=1;
      // show correct one
      Array.from(optionsEl.children)[correct].classList.add('correct');
      playTick(false);
    }
    nextBtn.style.display='inline-block';
  }

  nextBtn.addEventListener('click', ()=>{
    idx++;
    if(idx < questions.length) showQuestion(idx);
    else finishQuiz();
  });

  function finishQuiz(){
    quiz.style.display='none';
    final.style.display='block';
    pbar.style.width = '100%';
    // final message tailored
    finalMsg.innerHTML = `Ø­Ù„ÙˆØ© ÙŠØ§ Ù‡Ø¨Ø©! Ø¬Ø§ÙˆØ¨ØªÙŠ ÙˆÙ‚Ù„ØªÙŠÙ„ÙŠ Ø³Ø±Ø§Ø± ØµØºÙŠØ±Ø©.\n\nØ§Ù†ØªÙ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„ÙŠ Ù…Ø´ Ø°ÙƒØ±Ù‰ ÙˆØ§Ø­Ø¯Ø©ØŒ Ø§Ù†ØªÙŠ ÙƒÙ„ Ø§Ù„Ù„Ø­Ø¸Ø§Øª Ø§Ù„Ø­Ù„ÙˆØ©.<br><br>Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±: <strong>${score}/${questions.length}</strong> â€” Ù…Ù‡Ù…Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù†ØªÙŠØ¬Ø©ØŒ Ø§Ù†ØªÙ Ø§Ù„ÙØ§Ø¦Ø²Ø© ÙÙŠ Ù‚Ù„Ø¨ÙŠ.`;
    // start confetti and play music on show
    startConfetti();
    try{ bgAudio.currentTime = 0; bgAudio.play(); }catch(e){ /* play will work after interaction */ }
  }

  // ====== intro and start ======
  startBtn.addEventListener('click', ()=>{
    // animation
    intro.style.transition='transform .7s ease, opacity .5s';
    intro.style.transform='translateY(-30px) scale(.98)';
    intro.style.opacity='0';
    setTimeout(()=>{ intro.style.display='none'; quiz.style.display='block'; showQuestion(0); }, 520);
  });

  // ====== heart float animation ======
  document.querySelectorAll('.heart').forEach((h,i)=>{
    h.style.transition = `transform ${6+i}s ease-in-out ${i*.3}s, opacity ${4+i}s ease-in-out`;
    setTimeout(()=>{ h.style.transform='translateY(-14px) rotate(-6deg)'; h.style.opacity=0.07 }, 200);
  });

  // ====== tick sounds ======
  function playTick(ok){
    const a = new Audio();
    a.src = ok ? 'data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YQAAAAA=' : 'data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YQAAAAA=';
    try{ a.play(); }catch(e){}
  }

  // ====== confetti ======
  const confettiCanvas = document.getElementById('confetti');
  const ctx = confettiCanvas.getContext('2d');
  let W, H; function resize(){ W = confettiCanvas.width = innerWidth; H = confettiCanvas.height = innerHeight; }
  window.addEventListener('resize', resize); resize();
  let pieces = [];
  function startConfetti(){ pieces = []; for(let i=0;i<140;i++){ pieces.push({x:Math.random()*W, y:Math.random()*-H, r:4+Math.random()*10, d:Math.random()*60+10, color: ['#ff6b9a','#ffd36b','#7af2a6','#86b7ff'][Math.floor(Math.random()*4)], tilt: Math.random()*10, tiltSpeed: Math.random()*0.02+0.01}); } if(!anim) anim = requestAnimationFrame(draw); }
  function stopConfetti(){ pieces = []; if(anim){ cancelAnimationFrame(anim); anim=null; ctx.clearRect(0,0,W,H);} }
  function draw(){ ctx.clearRect(0,0,W,H); for(let p of pieces){ p.y += Math.random()*3+2; p.x += Math.sin(p.d)*0.5; p.tilt += p.tiltSpeed; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.tilt*Math.PI/180); ctx.fillStyle = p.color; ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*0.6); ctx.restore(); } pieces = pieces.filter(p=> p.y < H+40); if(pieces.length) anim = requestAnimationFrame(draw); else { cancelAnimationFrame(anim); anim=null; } }
  let anim = null;

  // ====== love button effect ======
  loveBtn.addEventListener('click', ()=>{
    loveBtn.disabled = true;
    loveBtn.innerText = 'Ø¨Ø­Ø¨Ùƒ Ù…Ù† Ù‚Ù„Ø¨ÙŠ â¤ï¸';
    // extra confetti
    startConfetti(); setTimeout(()=> stopConfetti(), 5000);
  });

  // accessibility: let clicking anywhere start audio if blocked
  document.addEventListener('click', ()=>{
    try{ bgAudio.play(); }catch(e){}
  }, {once:true});

  // ====== ready ======
  // small entrance animation
  setTimeout(()=>{ document.querySelector('.card').style.transform='translateY(0)'; }, 200);
</script>
</body>
</html>

